FROM node:20-bullseye-slim\n\n# Install fonts and dependencies for Chromium\nRUN apt-get update && apt-get install -y --no-install-recommends \n  ca-certificates \n  fonts-liberation \n  libnss3 \n  libatk1.0-0 \n  libatk-bridge2.0-0 \n  libcups2 \n  libx11-6 \n  libxcomposite1 \n  libxdamage1 \n  libxrandr2 \n  libxss1 \n  libasound2 \n  libgtk-3-0 \n  libgbm1 \n  wget \n  && rm -rf /var/lib/apt/lists/*\n\nWORKDIR /usr/src/app\nCOPY package.json package-lock.json* ./\nRUN npm install --production\n\nCOPY . .\n\nENV NODE_ENV=production\nCMD ["node", "index.js"]